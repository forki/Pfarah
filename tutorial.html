<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Introducing Pfarah
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="description" content="Parses files generated by the Clausewitz engine"/>
    <meta name="author" content="Nick Babcock <nbabcock19@hotmail.com>"/>

    <script src="https://code.jquery.com/jquery-1.8.0.js"></script>
    <script src="https://code.jquery.com/ui/1.8.23/jquery-ui.js"></script>
    <script src="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>
    <link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet"/>

    <link type="text/css" rel="stylesheet" href="/Pfarah/content/style.css" />
    <script type="text/javascript" src="/Pfarah/content/tips.js"></script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="https://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container">
      <div class="masthead">
        <ul class="nav nav-pills pull-right">
          <li><a href="http://fsharp.org">fsharp.org</a></li>
          <li><a href="http://github.com/nickbabcock/Pfarah">github page</a></li>
        </ul>
        <h3 class="muted"><a href="/Pfarah/index.html">Pfarah</a></h3>
      </div>
      <hr />
      <div class="row">
        <div class="span9" id="main">
          
<h1><a name="Introducing-Pfarah" class="anchor" href="#Introducing-Pfarah">Introducing Pfarah</a></h1>

<p>This document is a quick overview of the most important features of Pfarah.
You can also get this page as an <a href="https://github.com/nickbabcock/Pfarah/blob/master/docs/content/tutorial.fsx">F# script file from GitHub</a> and run
the samples interactively.</p>

<p>There are two ways to parse data. The first way is to parse a specific file,
and the second is to parse a given string. The norm should be parsing a file,
but for the sake of the tutorial it is shown the second way.</p>

<p>If you're familiar with <a href="http://fsharp.github.io/FSharp.Data/library/JsonValue.html">FSharp.Data JSON</a> library, you'll be familiar with this.</p>

<h2><a name="Quickstart" class="anchor" href="#Quickstart">Quickstart</a></h2>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="prep">#r</span> <span class="s">&quot;Pfarah.dll&quot;</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="i">Pfarah</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs2', 2)" onmouseover="showTip(event, 'fs2', 2)" class="i">obj</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs3', 3)" onmouseover="showTip(event, 'fs3', 3)" class="t">ParaValue</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs4', 4)" onmouseover="showTip(event, 'fs4', 4)" class="f">Parse</span> <span class="s">&quot;foo=bar&quot;</span>
</pre>
</td>
</tr>
</table>

<p><code>obj</code> is a <a href="https://msdn.microsoft.com/en-us/library/dd233226.aspx">discriminated union</a>, and if you're not familiar with
discriminated unions, it may be best to read up on them because that is how
one interfaces with the data</p>

<h2><a name="Working-with-the-Data" class="anchor" href="#Working-with-the-Data">Working with the Data</a></h2>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// Print the property&#39;s keys, so this will print &quot;foo&quot;</span>
<span class="k">match</span> <span onmouseout="hideTip(event, 'fs2', 5)" onmouseover="showTip(event, 'fs2', 5)" class="i">obj</span> <span class="k">with</span>
| <span onmouseout="hideTip(event, 'fs3', 6)" onmouseover="showTip(event, 'fs3', 6)" class="t">ParaValue</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs5', 7)" onmouseover="showTip(event, 'fs5', 7)" class="p">Record</span> <span onmouseout="hideTip(event, 'fs6', 8)" onmouseover="showTip(event, 'fs6', 8)" class="i">properties</span> <span class="k">-&gt;</span>
  <span onmouseout="hideTip(event, 'fs7', 9)" onmouseover="showTip(event, 'fs7', 9)" class="f">printfn</span> <span class="s">&quot;</span><span class="pf">%A</span><span class="s">&quot;</span> (<span onmouseout="hideTip(event, 'fs6', 10)" onmouseover="showTip(event, 'fs6', 10)" class="i">properties</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs8', 11)" onmouseover="showTip(event, 'fs8', 11)" class="t">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs9', 12)" onmouseover="showTip(event, 'fs9', 12)" class="f">map</span> <span onmouseout="hideTip(event, 'fs10', 13)" onmouseover="showTip(event, 'fs10', 13)" class="f">fst</span>)
| _ <span class="k">-&gt;</span>
  <span onmouseout="hideTip(event, 'fs11', 14)" onmouseover="showTip(event, 'fs11', 14)" class="f">failwith</span> <span class="s">&quot;Expected `obj` to be a `Record` type&quot;</span>

<span class="c">// Print the property&#39;s value of &quot;foo&quot;</span>
<span class="k">match</span> <span onmouseout="hideTip(event, 'fs2', 15)" onmouseover="showTip(event, 'fs2', 15)" class="i">obj</span> <span class="k">with</span>
| <span onmouseout="hideTip(event, 'fs3', 16)" onmouseover="showTip(event, 'fs3', 16)" class="t">ParaValue</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs5', 17)" onmouseover="showTip(event, 'fs5', 17)" class="p">Record</span> <span onmouseout="hideTip(event, 'fs6', 18)" onmouseover="showTip(event, 'fs6', 18)" class="i">properties</span> <span class="k">-&gt;</span>
  <span class="k">match</span> (<span onmouseout="hideTip(event, 'fs12', 19)" onmouseover="showTip(event, 'fs12', 19)" class="t">Array</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs13', 20)" onmouseover="showTip(event, 'fs13', 20)" class="f">tryFind</span> (<span onmouseout="hideTip(event, 'fs10', 21)" onmouseover="showTip(event, 'fs10', 21)" class="f">fst</span> <span class="o">&gt;</span><span class="o">&gt;</span> (<span class="o">=</span>) <span class="s">&quot;foo&quot;</span>) <span onmouseout="hideTip(event, 'fs6', 22)" onmouseover="showTip(event, 'fs6', 22)" class="i">properties</span>) <span class="k">with</span>
  | <span onmouseout="hideTip(event, 'fs14', 23)" onmouseover="showTip(event, 'fs14', 23)" class="p">Some</span>(<span onmouseout="hideTip(event, 'fs15', 24)" onmouseover="showTip(event, 'fs15', 24)" class="i">key</span>, <span onmouseout="hideTip(event, 'fs16', 25)" onmouseover="showTip(event, 'fs16', 25)" class="i">value</span>) <span class="k">-&gt;</span>
    <span class="k">match</span> <span onmouseout="hideTip(event, 'fs16', 26)" onmouseover="showTip(event, 'fs16', 26)" class="i">value</span> <span class="k">with</span>
    | <span onmouseout="hideTip(event, 'fs3', 27)" onmouseover="showTip(event, 'fs3', 27)" class="t">ParaValue</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs17', 28)" onmouseover="showTip(event, 'fs17', 28)" class="p">String</span> <span onmouseout="hideTip(event, 'fs18', 29)" onmouseover="showTip(event, 'fs18', 29)" class="i">str</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs7', 30)" onmouseover="showTip(event, 'fs7', 30)" class="f">printfn</span> <span class="s">&quot;</span><span class="pf">%s</span><span class="s">&quot;</span> <span onmouseout="hideTip(event, 'fs18', 31)" onmouseover="showTip(event, 'fs18', 31)" class="i">str</span>
    | _ <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs11', 32)" onmouseover="showTip(event, 'fs11', 32)" class="f">failwith</span> <span class="s">&quot;Expected foo to be a string&quot;</span>
  | <span onmouseout="hideTip(event, 'fs19', 33)" onmouseover="showTip(event, 'fs19', 33)" class="p">None</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs11', 34)" onmouseover="showTip(event, 'fs11', 34)" class="f">failwith</span> <span class="s">&quot;Expected foo to exist&quot;</span>
| _ <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs11', 35)" onmouseover="showTip(event, 'fs11', 35)" class="f">failwith</span> <span class="s">&quot;Expected `obj` to be a `Record` type&quot;</span>
</pre>
</td>
</tr>
</table>

<h2><a name="Convenience-Methods" class="anchor" href="#Convenience-Methods">Convenience Methods</a></h2>

<p>The methods shown are very boilerplate heavy and writing this kind of code can
make a project become bloated very quickly. Hence why Pfarah provides a bit of
syntatic sugar and helper methods to make dealing with the data easier.</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// The previous example of printing foo&#39;s value can be shortened to</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs20', 36)" onmouseover="showTip(event, 'fs20', 36)" class="i">obj2</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs3', 37)" onmouseover="showTip(event, 'fs3', 37)" class="t">ParaValue</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs4', 38)" onmouseover="showTip(event, 'fs4', 38)" class="f">Parse</span> <span class="s">&quot;foo=bar&quot;</span>
<span onmouseout="hideTip(event, 'fs7', 39)" onmouseover="showTip(event, 'fs7', 39)" class="f">printfn</span> <span class="s">&quot;</span><span class="pf">%s</span><span class="s">&quot;</span> (<span onmouseout="hideTip(event, 'fs20', 40)" onmouseover="showTip(event, 'fs20', 40)" class="i">obj2</span><span class="o">?</span><span class="i">foo</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs21', 41)" onmouseover="showTip(event, 'fs21', 41)" class="f">asString</span>)

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs22', 42)" onmouseover="showTip(event, 'fs22', 42)" class="i">data</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs3', 43)" onmouseover="showTip(event, 'fs3', 43)" class="t">ParaValue</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs4', 44)" onmouseover="showTip(event, 'fs4', 44)" class="f">Parse</span> <span class="s">&quot;y={1 2 4 8 16 32}&quot;</span>
<span onmouseout="hideTip(event, 'fs7', 45)" onmouseover="showTip(event, 'fs7', 45)" class="f">printfn</span> <span class="s">&quot;</span><span class="pf">%A</span><span class="s">&quot;</span> (<span onmouseout="hideTip(event, 'fs22', 46)" onmouseover="showTip(event, 'fs22', 46)" class="i">data</span><span class="o">?</span><span class="i">y</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs23', 47)" onmouseover="showTip(event, 'fs23', 47)" class="f">asArray</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs12', 48)" onmouseover="showTip(event, 'fs12', 48)" class="t">Array</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs24', 49)" onmouseover="showTip(event, 'fs24', 49)" class="f">map</span> <span onmouseout="hideTip(event, 'fs25', 50)" onmouseover="showTip(event, 'fs25', 50)" class="f">asInteger</span>)
</pre>
</td>
</tr>
</table>

<h2><a name="Dealing-with-Multiple-Keys" class="anchor" href="#Dealing-with-Multiple-Keys">Dealing with Multiple Keys</a></h2>

<p>It is often common that the data format will have multiple keys of the same
name on the same level, but the number of occurrences of the key in an object is
subject to differ. In cases such as these it is best to use <code>collect</code>, which
will aggregate values in an object with that particular key.</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
<span class="l">20: </span>
<span class="l">21: </span>
<span class="l">22: </span>
<span class="l">23: </span>
<span class="l">24: </span>
<span class="l">25: </span>
<span class="l">26: </span>
<span class="l">27: </span>
<span class="l">28: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs26', 51)" onmouseover="showTip(event, 'fs26', 51)" class="i">army</span> <span class="o">=</span> <span class="s">&quot;&quot;&quot;</span>
<span class="s">army=</span>
<span class="s">{</span>
<span class="s">    name=&quot;1st army&quot;</span>
<span class="s">    unit={</span>
<span class="s">        name=&quot;1st unit&quot;</span>
<span class="s">    }</span>
<span class="s">}</span>
<span class="s">army=</span>
<span class="s">{</span>
<span class="s">    name=&quot;2nd army&quot;</span>
<span class="s">    unit={</span>
<span class="s">        name=&quot;1st unit&quot;</span>
<span class="s">    }</span>
<span class="s">    unit={</span>
<span class="s">        name=&quot;2nd unit&quot;</span>
<span class="s">    }</span>
<span class="s">}&quot;&quot;&quot;</span>

<span class="c">// Let&#39;s create a list of tuples such that the result is army name * list of</span>
<span class="c">// unit names</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs27', 52)" onmouseover="showTip(event, 'fs27', 52)" class="i">armyData</span> <span class="o">=</span>
  <span onmouseout="hideTip(event, 'fs3', 53)" onmouseover="showTip(event, 'fs3', 53)" class="t">ParaValue</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs4', 54)" onmouseover="showTip(event, 'fs4', 54)" class="f">Parse</span> <span onmouseout="hideTip(event, 'fs26', 55)" onmouseover="showTip(event, 'fs26', 55)" class="i">army</span>
  <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs28', 56)" onmouseover="showTip(event, 'fs28', 56)" class="f">collect</span> <span class="s">&quot;army&quot;</span>
  <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs12', 57)" onmouseover="showTip(event, 'fs12', 57)" class="t">Array</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs24', 58)" onmouseover="showTip(event, 'fs24', 58)" class="f">map</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs29', 59)" onmouseover="showTip(event, 'fs29', 59)" class="i">x</span> <span class="k">-&gt;</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs30', 60)" onmouseover="showTip(event, 'fs30', 60)" class="i">units</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs29', 61)" onmouseover="showTip(event, 'fs29', 61)" class="i">x</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs28', 62)" onmouseover="showTip(event, 'fs28', 62)" class="f">collect</span> <span class="s">&quot;unit&quot;</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs12', 63)" onmouseover="showTip(event, 'fs12', 63)" class="t">Array</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs24', 64)" onmouseover="showTip(event, 'fs24', 64)" class="f">map</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs31', 65)" onmouseover="showTip(event, 'fs31', 65)" class="i">u</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs31', 66)" onmouseover="showTip(event, 'fs31', 66)" class="i">u</span><span class="o">?</span><span class="i">name</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs21', 67)" onmouseover="showTip(event, 'fs21', 67)" class="f">asString</span>)
    <span onmouseout="hideTip(event, 'fs29', 68)" onmouseover="showTip(event, 'fs29', 68)" class="i">x</span><span class="o">?</span><span class="i">name</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs21', 69)" onmouseover="showTip(event, 'fs21', 69)" class="f">asString</span>, <span onmouseout="hideTip(event, 'fs30', 70)" onmouseover="showTip(event, 'fs30', 70)" class="i">units</span>)
<span onmouseout="hideTip(event, 'fs7', 71)" onmouseover="showTip(event, 'fs7', 71)" class="f">printfn</span> <span class="s">&quot;</span><span class="pf">%A</span><span class="s">&quot;</span> <span onmouseout="hideTip(event, 'fs27', 72)" onmouseover="showTip(event, 'fs27', 72)" class="i">armyData</span>
</pre>
</td>
</tr>
</table>

<h2><a name="Inconsistent-Data" class="anchor" href="#Inconsistent-Data">Inconsistent Data</a></h2>

<p>Not all objects of a given instance will have the exact same property keys.
Some may only have a limited subset of the properties wanted. The <code>tryFind</code>
function will return <code>Some ParaValue</code> if the property exists and <code>None</code> if it
doesn't.</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs32', 73)" onmouseover="showTip(event, 'fs32', 73)" class="i">ships</span> <span class="o">=</span> <span class="s">&quot;&quot;&quot;</span>
<span class="s">ship={</span>
<span class="s">    name=&quot;1st ship&quot;</span>
<span class="s">    patrol=yes</span>
<span class="s">}</span>
<span class="s">ship={</span>
<span class="s">  name=&quot;2nd ship&quot;</span>
<span class="s">}&quot;&quot;&quot;</span>

<span class="c">// Let&#39;s print the name of ships on patrol</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs33', 74)" onmouseover="showTip(event, 'fs33', 74)" class="i">shipData</span> <span class="o">=</span>
  <span onmouseout="hideTip(event, 'fs3', 75)" onmouseover="showTip(event, 'fs3', 75)" class="t">ParaValue</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs4', 76)" onmouseover="showTip(event, 'fs4', 76)" class="f">Parse</span> <span onmouseout="hideTip(event, 'fs32', 77)" onmouseover="showTip(event, 'fs32', 77)" class="i">ships</span>
  <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs28', 78)" onmouseover="showTip(event, 'fs28', 78)" class="f">collect</span> <span class="s">&quot;ship&quot;</span>
  <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs12', 79)" onmouseover="showTip(event, 'fs12', 79)" class="t">Array</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs34', 80)" onmouseover="showTip(event, 'fs34', 80)" class="f">filter</span> (<span onmouseout="hideTip(event, 'fs35', 81)" onmouseover="showTip(event, 'fs35', 81)" class="f">tryFind</span> <span class="s">&quot;patrol&quot;</span> <span class="o">&gt;</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs36', 82)" onmouseover="showTip(event, 'fs36', 82)" class="t">Option</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs37', 83)" onmouseover="showTip(event, 'fs37', 83)" class="f">isSome</span>)
  <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs12', 84)" onmouseover="showTip(event, 'fs12', 84)" class="t">Array</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs24', 85)" onmouseover="showTip(event, 'fs24', 85)" class="f">map</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs29', 86)" onmouseover="showTip(event, 'fs29', 86)" class="i">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs29', 87)" onmouseover="showTip(event, 'fs29', 87)" class="i">x</span><span class="o">?</span><span class="i">name</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs21', 88)" onmouseover="showTip(event, 'fs21', 88)" class="f">asString</span>)
<span onmouseout="hideTip(event, 'fs7', 89)" onmouseover="showTip(event, 'fs7', 89)" class="f">printfn</span> <span class="s">&quot;</span><span class="pf">%A</span><span class="s">&quot;</span> <span onmouseout="hideTip(event, 'fs27', 90)" onmouseover="showTip(event, 'fs27', 90)" class="i">armyData</span>
</pre>
</td>
</tr>
</table>

<h2><a name="Exploring-Data" class="anchor" href="#Exploring-Data">Exploring Data</a></h2>

<p>Knowing the data is the first step to any type of analysis. This is made
difficult when there can be thousands of objects, each one having a subset of
the properties available. <code>findOptional</code> fixes this problem by disecting a
list of  supposedly similar objects and returning the properties that it knows
are always present and the ones that are optional.</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
<span class="l">20: </span>
<span class="l">21: </span>
<span class="l">22: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs38', 91)" onmouseover="showTip(event, 'fs38', 91)" class="i">nodes</span> <span class="o">=</span> <span class="s">&quot;&quot;&quot;</span>
<span class="s">node={</span>
<span class="s">  definition=foo</span>
<span class="s">  incoming={1 2 3}</span>
<span class="s">}</span>
<span class="s">node={</span>
<span class="s">  definition=bar</span>
<span class="s">}&quot;&quot;&quot;</span>

<span class="c">// Print all the properties of the &quot;node&quot; objects in alphabetical order.</span>
<span class="c">// Append a question mark after the property name to signify that the property</span>
<span class="c">// is optional.</span>
<span onmouseout="hideTip(event, 'fs3', 92)" onmouseover="showTip(event, 'fs3', 92)" class="t">ParaValue</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs4', 93)" onmouseover="showTip(event, 'fs4', 93)" class="f">Parse</span> <span onmouseout="hideTip(event, 'fs38', 94)" onmouseover="showTip(event, 'fs38', 94)" class="i">nodes</span>
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs28', 95)" onmouseover="showTip(event, 'fs28', 95)" class="f">collect</span> <span class="s">&quot;node&quot;</span>
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs39', 96)" onmouseover="showTip(event, 'fs39', 96)" class="f">findOptional</span>
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs8', 97)" onmouseover="showTip(event, 'fs8', 97)" class="t">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs40', 98)" onmouseover="showTip(event, 'fs40', 98)" class="f">sortBy</span> <span onmouseout="hideTip(event, 'fs10', 99)" onmouseover="showTip(event, 'fs10', 99)" class="f">fst</span>
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs8', 100)" onmouseover="showTip(event, 'fs8', 100)" class="t">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs41', 101)" onmouseover="showTip(event, 'fs41', 101)" class="f">iter</span>(<span class="k">fun</span> (<span onmouseout="hideTip(event, 'fs42', 102)" onmouseover="showTip(event, 'fs42', 102)" class="i">property</span>, <span onmouseout="hideTip(event, 'fs43', 103)" onmouseover="showTip(event, 'fs43', 103)" class="i">isOptional</span>) <span class="k">-&gt;</span>
  <span onmouseout="hideTip(event, 'fs7', 104)" onmouseover="showTip(event, 'fs7', 104)" class="f">printfn</span> <span class="s">&quot;</span><span class="pf">%s</span><span class="s"></span><span class="pf">%s</span><span class="s">&quot;</span> <span onmouseout="hideTip(event, 'fs42', 105)" onmouseover="showTip(event, 'fs42', 105)" class="i">property</span> (<span class="k">if</span> <span onmouseout="hideTip(event, 'fs43', 106)" onmouseover="showTip(event, 'fs43', 106)" class="i">isOptional</span> <span class="k">then</span> <span class="s">&quot;?&quot;</span> <span class="k">else</span> <span class="s">&quot;&quot;</span>))

<span class="c">// Will print:</span>
<span class="c">// definition</span>
<span class="c">// incoming?</span>
</pre>
</td>
</tr>
</table>

<div class="tip" id="fs1">namespace Pfarah</div>
<div class="tip" id="fs2">Multiple items<br />val obj : ParaValue<br /><br />Full name: Tutorial.obj<br /><br />--------------------<br />type obj = System.Object<br /><br />Full name: Microsoft.FSharp.Core.obj</div>
<div class="tip" id="fs3">type ParaValue =<br />&#160;&#160;| Bool of bool<br />&#160;&#160;| Number of float<br />&#160;&#160;| Date of DateTime<br />&#160;&#160;| String of string<br />&#160;&#160;| Array of elements: ParaValue []<br />&#160;&#160;| Record of properties: (string * ParaValue) []<br />&#160;&#160;static member Load : file:string -&gt; ParaValue<br />&#160;&#160;static member Load : stream:Stream -&gt; ParaValue<br />&#160;&#160;static member Parse : text:string -&gt; ParaValue<br /><br />Full name: Pfarah.ParaValue</div>
<div class="tip" id="fs4">static member ParaValue.Parse : text:string -&gt; ParaValue</div>
<div class="tip" id="fs5">union case ParaValue.Record: properties: (string * ParaValue) [] -&gt; ParaValue</div>
<div class="tip" id="fs6">val properties : (string * ParaValue) []</div>
<div class="tip" id="fs7">val printfn : format:Printf.TextWriterFormat&lt;&#39;T&gt; -&gt; &#39;T<br /><br />Full name: Microsoft.FSharp.Core.ExtraTopLevelOperators.printfn</div>
<div class="tip" id="fs8">module Seq<br /><br />from Microsoft.FSharp.Collections</div>
<div class="tip" id="fs9">val map : mapping:(&#39;T -&gt; &#39;U) -&gt; source:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;U&gt;<br /><br />Full name: Microsoft.FSharp.Collections.Seq.map</div>
<div class="tip" id="fs10">val fst : tuple:(&#39;T1 * &#39;T2) -&gt; &#39;T1<br /><br />Full name: Microsoft.FSharp.Core.Operators.fst</div>
<div class="tip" id="fs11">val failwith : message:string -&gt; &#39;T<br /><br />Full name: Microsoft.FSharp.Core.Operators.failwith</div>
<div class="tip" id="fs12">module Array<br /><br />from Microsoft.FSharp.Collections</div>
<div class="tip" id="fs13">val tryFind : predicate:(&#39;T -&gt; bool) -&gt; array:&#39;T [] -&gt; &#39;T option<br /><br />Full name: Microsoft.FSharp.Collections.Array.tryFind</div>
<div class="tip" id="fs14">union case Option.Some: Value: &#39;T -&gt; Option&lt;&#39;T&gt;</div>
<div class="tip" id="fs15">val key : string</div>
<div class="tip" id="fs16">val value : ParaValue</div>
<div class="tip" id="fs17">union case ParaValue.String: string -&gt; ParaValue</div>
<div class="tip" id="fs18">val str : string</div>
<div class="tip" id="fs19">union case Option.None: Option&lt;&#39;T&gt;</div>
<div class="tip" id="fs20">val obj2 : ParaValue<br /><br />Full name: Tutorial.obj2</div>
<div class="tip" id="fs21">val asString : x:ParaValue -&gt; string<br /><br />Full name: Pfarah.ParaExtensions.asString</div>
<div class="tip" id="fs22">val data : ParaValue<br /><br />Full name: Tutorial.data</div>
<div class="tip" id="fs23">val asArray : x:ParaValue -&gt; ParaValue []<br /><br />Full name: Pfarah.ParaExtensions.asArray</div>
<div class="tip" id="fs24">val map : mapping:(&#39;T -&gt; &#39;U) -&gt; array:&#39;T [] -&gt; &#39;U []<br /><br />Full name: Microsoft.FSharp.Collections.Array.map</div>
<div class="tip" id="fs25">val asInteger : x:ParaValue -&gt; int<br /><br />Full name: Pfarah.ParaExtensions.asInteger</div>
<div class="tip" id="fs26">val army : string<br /><br />Full name: Tutorial.army</div>
<div class="tip" id="fs27">val armyData : (string * string []) []<br /><br />Full name: Tutorial.armyData</div>
<div class="tip" id="fs28">val collect : prop:string -&gt; obj:ParaValue -&gt; ParaValue []<br /><br />Full name: Pfarah.ParaExtensions.collect</div>
<div class="tip" id="fs29">val x : ParaValue</div>
<div class="tip" id="fs30">val units : string []</div>
<div class="tip" id="fs31">val u : ParaValue</div>
<div class="tip" id="fs32">val ships : string<br /><br />Full name: Tutorial.ships</div>
<div class="tip" id="fs33">val shipData : string []<br /><br />Full name: Tutorial.shipData</div>
<div class="tip" id="fs34">val filter : predicate:(&#39;T -&gt; bool) -&gt; array:&#39;T [] -&gt; &#39;T []<br /><br />Full name: Microsoft.FSharp.Collections.Array.filter</div>
<div class="tip" id="fs35">val tryFind : prop:string -&gt; obj:ParaValue -&gt; ParaValue option<br /><br />Full name: Pfarah.ParaExtensions.tryFind</div>
<div class="tip" id="fs36">module Option<br /><br />from Microsoft.FSharp.Core</div>
<div class="tip" id="fs37">val isSome : option:&#39;T option -&gt; bool<br /><br />Full name: Microsoft.FSharp.Core.Option.isSome</div>
<div class="tip" id="fs38">val nodes : string<br /><br />Full name: Tutorial.nodes</div>
<div class="tip" id="fs39">val findOptional : objs:seq&lt;ParaValue&gt; -&gt; seq&lt;string * bool&gt;<br /><br />Full name: Pfarah.ParaExtensions.findOptional</div>
<div class="tip" id="fs40">val sortBy : projection:(&#39;T -&gt; &#39;Key) -&gt; source:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;T&gt; (requires comparison)<br /><br />Full name: Microsoft.FSharp.Collections.Seq.sortBy</div>
<div class="tip" id="fs41">val iter : action:(&#39;T -&gt; unit) -&gt; source:seq&lt;&#39;T&gt; -&gt; unit<br /><br />Full name: Microsoft.FSharp.Collections.Seq.iter</div>
<div class="tip" id="fs42">val property : string</div>
<div class="tip" id="fs43">val isOptional : bool</div>

        </div>
        <div class="span3">
          <img src="/Pfarah/img/logo.png" alt="F# Project" style="width:150px;margin:10px" />  
          <ul class="nav nav-list" id="menu" style="margin-top: 20px;">
            <li class="nav-header">Pfarah</li>
            <li><a href="/Pfarah/index.html">Home page</a></li>
            <li class="divider"></li>
            <li><a href="http://nuget.org/packages/Pfarah">Get Library via NuGet</a></li>
            <li><a href="http://github.com/nickbabcock/Pfarah">Source Code on GitHub</a></li>
            <li><a href="/Pfarah/license.html">License</a></li>
            <li><a href="/Pfarah/release-notes.html">Release Notes</a></li>
            
            <li class="nav-header">Getting started</li>
            <li><a href="/Pfarah/tutorial.html">Sample tutorial</a></li>

            <li class="nav-header">Documentation</li>
            <li><a href="/Pfarah/reference/index.html">API Reference</a></li>
            <li><a href="/Pfarah/data-format.html">Data format</a></li>
          </ul>
        </div>
      </div>
    </div>
    <a href="http://github.com/nickbabcock/Pfarah"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"/></a>
  </body>
  </html>
